<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>근무 관리</title>
	
	<!--공통 -->
	<link rel="preconnect" href="https://fonts.gstatic.com">
	<link href="https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;600;700;800&display=swap" rel="stylesheet">
	<link rel="stylesheet" href="/assets/css/bootstrap.css">
	<link rel="stylesheet" href="/assets/vendors/iconly/bold.css">
	<link rel="stylesheet" href="/assets/vendors/perfect-scrollbar/perfect-scrollbar.css">
	<link rel="stylesheet" href="/assets/vendors/bootstrap-icons/bootstrap-icons.css">
	<link rel="stylesheet" href="/assets/css/app.css">
	<link rel="shortcut icon" href="/assets/images/favicon.svg" type="/assets/image/x-icon">
		
	<!--  sweetalert  -->
	<link rel="stylesheet" href="/assets/vendors/sweetalert2/sweetalert2.min.css">

	<!-- TOAST UI CDN -->
	<link rel="stylesheet" href="https://uicdn.toast.com/tui-time-picker/latest/tui-time-picker.css">
	<link rel="stylesheet" href="https://uicdn.toast.com/tui.date-picker/latest/tui-date-picker.css">
	<link rel="stylesheet" href="https://uicdn.toast.com/grid/latest/tui-grid.css" />
	<link rel="stylesheet" href="https://uicdn.toast.com/calendar/latest/toastui-calendar.min.css" />
	
	<!--근무 관리 CSS -->
	<link rel="stylesheet" href="/css/work_mng.css">
</head>
<body>
		
	<div id="app">
		
		<!-- 사이드 메뉴바-->
		<div th:replace="~{fragments/sidebar :: sidebar}"></div>
		
		<!-- 메인 content -->
		<div id="main">
			
			<!-- 반응형 사이드 메뉴 버튼-->
			<header class="mb-3">
		        <a href="#" class="burger-btn d-block d-xl-none">
		            <i class="bi bi-justify fs-3"></i>
		        </a>
		    </header>
			
			<div class="d-flex justify-content-between">
				<h3>근무 관리</h3>
				
				<div sec:authorize="hasRole('ATHR001') or hasRole('ATHR002')">
					<div class="buttons">
						<button type="button" class="btn btn-primary" onclick="openView()">근무 일정 등록</button>
					</div>
				</div>
			</div>
				
			
			<div class="card">
				<div class="card-body">
					<!-- 데이트 피커 시작 -->
					<section class="section mb-4">
						<div style="display: flex; align-items: center; gap: 0.5rem;">
							<!-- 첫 번째 데이트 피커 -->
							<div>
								<div class="tui-datepicker-input tui-datetime-input tui-has-focus">
									<input type="text" id="tui-date-picker-target-1" aria-label="Date-Time" onmousedown="datePickerReplace(this.id)"
										 class="form-control" placeholder="시작일 선택" />
									<span class="tui-ico-date"></span>
								</div>
								<div id="tui-date-picker-container-1" style="margin-top: -1px; z-index: 1000; position: relative;"></div>
							</div>

							<!-- 구분자 -->
							<span style="font-size: 1.2rem; line-height: 2rem;">~</span>

							<!-- 두 번째 데이트 피커 -->
							<div>
								<div class="tui-datepicker-input tui-datetime-input tui-has-focus">
									<input type="text" id="tui-date-picker-target-2" aria-label="Date-Time" onmousedown="datePickerReplace(this.id)"
										 class="form-control" placeholder="종료일 선택" />
									<span class="tui-ico-date"></span>
								</div>
								<div id="tui-date-picker-container-2" style="margin-top: -1px; z-index: 1000; position: relative;"></div>
							</div>
							
							<span style="font-size: 1rem; line-height: 2rem;"> 사번 / 이름</span>
							
							<div th:if="${emp.emp_role == 'ATHR003'}">
								<div id="searchEmpArea">
									<input type="text" id="searchEmp2"  class="form-control" th:value="${emp.emp_id}"/>
								</div>
							</div>
							
							<div sec:authorize="hasRole('ATHR001') or hasRole('ATHR002')">
								<div id="searchEmpArea">
									<input type="text" id="searchEmp" class="form-control" pdisabled laceholder="사번 또는 이름 입력" />
								</div>
							</div>
							
							<span style="font-size: 1rem; line-height: 2rem;"> 부서 </span>
							<div>
								<div th:if="${emp.emp_role == 'ATHR003'}">
									<select class="form-select deptArea" disabled>
										<option th:value="${emp.emp_dept}" selected></option>
									</select>
								</div>
								<div sec:authorize="hasRole('ATHR001') or hasRole('ATHR002')">
									<select class="form-select deptArea" id="deptSelect" name="deptSelect" >
										<option value="" selected>선택하세요</option>
									</select>
								</div>
							</div>
							
							<div sec:authorize="hasRole('ATHR001') or hasRole('ATHR002')">
								<button type="button" class="btn btn-outline-primary"onclick="search(this);">검색</button>
							</div>	
						</div>
					</section>
					<!-- 데이트 피커 끝 -->

					<!-- 그리드 시작 -->
					<section class="section">
						<div class="row" id="basic-table">
							<div id="grid"></div>
						</div>
					</section>
					<!-- 그리드 끝 -->

					
				</div> <!-- card-body -->
			</div> <!-- card -->
			
		</div><!--main--> 
	</div><!-- app -->
		
		
	<!-- TOAST UI CDN -->
	<script src="https://uicdn.toast.com/tui.time-picker/latest/tui-time-picker.js"></script>
	<script src="https://uicdn.toast.com/tui.date-picker/latest/tui-date-picker.js"></script>
	<script src="https://uicdn.toast.com/grid/latest/tui-grid.js"></script>
	<script src="https://uicdn.toast.com/calendar/latest/toastui-calendar.min.js"></script>
	
	<!-- 제이쿼리 -->
	<script src="/js/jquery-3.7.1.js"></script>	
	<!--Axios -->
	<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
	<!-- sweet arert -->
	<script src="/assets/vendors/sweetalert2/sweetalert2.all.min.js"></script>
	
	<!-- 공통 -->
	<script src="/assets/vendors/perfect-scrollbar/perfect-scrollbar.min.js"></script>
	<script src="/assets/js/bootstrap.bundle.min.js"></script>
	<script src="/assets/js/main.js"></script>
	
	<!--근무 관리 JS -->
	<script th:inline="javascript" th:src="@{/js/attendance/work_mng.js}" ></script>
</body>

</html>
