<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>요청내역 상세내용</title>

    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/bootstrap.css">

    <link rel="stylesheet" href="assets/vendors/iconly/bold.css">

    <link rel="stylesheet" href="assets/vendors/perfect-scrollbar/perfect-scrollbar.css">
    <link rel="stylesheet" href="assets/vendors/bootstrap-icons/bootstrap-icons.css">
    <link rel="stylesheet" href="assets/css/app.css">
    <link rel="shortcut icon" href="assets/images/favicon.svg" type="assets/image/x-icon">
	<!-- TOAST UI CDN -->
	<link rel="stylesheet" href="https://uicdn.toast.com/grid/latest/tui-grid.css" />
	
	<style>
		.tui-grid-cell {
			/* !important -> 우선순위 높아짐 */
			background-color: #ffffff !important;
		}
	</style>
	
</head>
<body>
		
	<div id="app">
		<!-- 메인 content -->
		<div id="main">
			
			<h3>휴직 신청 상세내용</h3>
			
		 	<!--휴직 신청 상세내용 폼 시작-->			
			<!-- // Basic multiple Column Form section start -->
			<section id="multiple-column-form">
				<div class="row match-height">
					<div class="col-12">
						<div class="card">
							
							<div class="card-content">
								<div class="card-body">
								
									<form class="form" action="/request-assign-detail" method="post" enctype="multipart/form-data">
										<div class="row">
											<div class="col-md-6 col-12">
												<div class="form-group">
													<label for="first-name-column">담당자 사번</label>
													<input type="text" th:value="${emp.emp_id}" name="emp_id" id="emp_id"  class="form-control" readonly>
													
												</div>
											</div>
											
											<div class="col-md-6 col-12">
												<div class="form-group">
													<label for="first-name-column">담장자 성명</label>
													<input type="text" th:value="${emp.emp_name}" id="emp_name" name="emp_name" class="form-control" readonly>
												</div>
											</div>
										
											
											<div class="col-md-6 col-12">
												<div class="form-group">
													<label for="first-name-column">신청자 사번</label>
													<input type="text" id="assign_emp_id" name="assign_emp_id" class="form-control" th:value="${absence.EMP_ID}" readonly>
												</div>
											</div>
											
											<div class="col-md-6 col-12">
												<div class="form-group">
													<label for="last-name-column">신청자 성명</label>
													<input type="text" id="assign_emp_name" name="assign_emp_name" class="form-control"  th:value="${absence.EMP_NAME}" readonly>
												</div>
											</div>
											<div class="col-md-6 col-12">
												<div class="form-group">
													<label for="first-name-column">부서</label>
													<input type="text" id="assign_emp_id" name="assign_emp_id" class="form-control" th:value="${absence.EMP_DEPT}" readonly>
												</div>
											</div>
											
											<div class="col-md-6 col-12">
												<div class="form-group">
													<label for="last-name-column"> 직급</label>
													<input type="text" id="assign_emp_name" name="assign_emp_name" class="form-control"  th:value="${absence.EMP_POSITION}" readonly>
												</div>
											</div>
											
											<div class="col-md-6 col-12">
												<div class="form-group">
													<label>신청일자</label>
													<div class="form-group">
														<input type="text" class="form-control" id="request_date" name="assign_date" th:value="${absence.REQUEST_DATE}" readonly > 
													</div>
												</div>
											</div>
											
											
											<div class="col-md-6 col-12">
												<div class="form-group">
													<label for="city-column">휴직구분</label>
													<input type="text" id="assign_type" name="absence_type" class="form-control" th:value="${absence.ABSENCE_TYPE}" readonly>
												</div>
											</div>
											
											<div class="col-md-6 col-12">
												<div class="form-group">
													<label for="company-column">휴직 시작일</label>
													<input type="text" id="prev_pos" name="prev_pos" class="form-control" th:value="${absence.ABSENCE_START}" readonly>
												</div>
											</div>
											<div class="col-md-6 col-12">
												<div class="form-group">
													<label for="email-id-column">휴직 종료일</label>
													<input type="text" id="new_pos" name="new_pos" class="form-control" th:value="${absence.ABSENCE_END}" readonly>
												</div>
											</div>
											<div class="col-12">
												<div class="form-group">
													<label for="company-column">비고</label>
													<input type="text" id="prev_dept" class="form-control" name="prev_dept" readonly>
														
												</div>
											</div>
											
											<div class="col-12 d-flex justify-content-end">
												<button type="button" id="approveBtn" class="btn btn-primary me-1 mb-1" data-bs-toggle="modal">승인</button>
												<button type="button" id="rejectBtn" class="btn btn-outline-danger me-1 mb-1" data-bs-target="#defaultSize">반려</button>
											</div>
										</div>
									</form>
								</div>
							</div>
						</div>
					</div>
				</div>
			</section>
			<!-- // Basic multiple Column Form section end -->
			<!--인사발령 상세내용 폼 끝-->
			
			
			<!-- 승인버튼 클릭 시 최종승인권자 모달창 시작 -->
			<!--Default size Modal -->
        <div class="modal fade text-left" id="approvedefaultSize" tabindex="-1"
            role="dialog" aria-labelledby="myModalLabel18" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable"
                role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 class="modal-title" id="myModalLabel18">최종승인권자 선택</h4>
                        <button type="button" class="close" data-bs-dismiss="modal"
                            aria-label="Close">
                            <i data-feather="x"></i>
                        </button>
                    </div>
                    <div class="modal-body">
						
						<!-- 그리드 시작 -->
						<section class="section">
							<div class="row" id="basic-table">
								<div id="grid2"></div>
							</div>
						</section>
						<!-- 그리드 끝 -->
						
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-light-secondary"
                            data-bs-dismiss="modal">
                            <i class="bx bx-x d-block d-sm-none"></i>
                            <span class="d-none d-sm-block">취소</span>
                        </button>
                        <button type="button" class="btn btn-primary ml-1" onclick="requestApproval()">
                            <i class="bx bx-check d-block d-sm-none"></i>
                            <span class="d-none d-sm-block">승인요청</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
			<!-- 승인버튼 클릭 시 최종승인권자 모달창 끝 -->
			
			
			<!--반려사유 모달창 시작-->
			<!--Default size Modal -->
        <div class="modal fade text-left" id="defaultSize" tabindex="-1"
            role="dialog" aria-labelledby="myModalLabel18" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable"
                role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 class="modal-title" id="myModalLabel18">반려사유</h4>
                        <button type="button" class="close" data-bs-dismiss="modal"
                            aria-label="Close">
                            <i data-feather="x"></i>
                        </button>
                    </div>
                    <div class="modal-body">
						
						<h6 >승인권자 사번</h6> <!-- 로그인한 팀장 이름 담기 -->
						<div class="form-group">
							<input type="text" class="form-control me-2" id="emp_id" readonly
														onchange="calcDate()">
						</div>
						
						<h6>승인권자 성명</h6> <!-- 로그인한 팀장 이름 담기 -->
						<div class="form-group">
							<input type="text" class="form-control me-2" id="emp_name" readonly
															onchange="calcDate()">
						</div>
						
						<h6>반려사유</h6>
						<div class="content">
							<div class="form-group">
								 <textarea class="form-control me-2" id="rejectReason" rows="4"></textarea>
							</div>
						
						</div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-light-secondary"
                            data-bs-dismiss="modal">
                            <i class="bx bx-x d-block d-sm-none"></i>
                            <span class="d-none d-sm-block">취소</span>
                        </button>
                        <button type="button" class="btn btn-primary ml-1"
                            data-bs-dismiss="modal">
                            <i class="bx bx-check d-block d-sm-none"></i>
                            <span class="d-none d-sm-block">등록</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
			<!--반려사유 모달창 끝-->
			
			
			
		</div><!--main--> 

	</div><!-- app -->
		
		
	<script src="assets/vendors/perfect-scrollbar/perfect-scrollbar.min.js"></script>
	<script src="assets/js/bootstrap.bundle.min.js"></script>
	<script src="assets/js/main.js"></script>
	<!-- TOAST UI CDN -->
	<script src="https://uicdn.toast.com/grid/latest/tui-grid.js"></script>
	 <!-- 제이쿼리 -->
   	<script th:src="@{/js/jquery-3.7.1.js}"></script>   
	<script>
		
		//-----------------------------------------------------------------최종승인권자 모달창시작
		
		  // 최종승인권자 선택 모달창 Grid 생성
	        const grid2 = new Grid({
	            el: document.getElementById('grid2'),
	            columns: [
	                { header: '사원번호', name: 'emp_id' },
	                { header: '성명', name: 'emp_name' },
	                { header: '부서명', name: 'emp_dept' },
	                { header: '직급', name: 'emp_position' }
	            ],
	            data: []
	        });
		
		
	</script>
	
</body>

</html>
