<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>화면명</title>

    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/bootstrap.css">

    <link rel="stylesheet" href="assets/vendors/iconly/bold.css">

    <link rel="stylesheet" href="assets/vendors/perfect-scrollbar/perfect-scrollbar.css">
    <link rel="stylesheet" href="assets/vendors/bootstrap-icons/bootstrap-icons.css">
    <link rel="stylesheet" href="assets/css/app.css">
    <link rel="shortcut icon" href="assets/images/favicon.svg" type="assets/image/x-icon">
	<!-- TOAST UI CDN -->
	<link rel="stylesheet" href="https://uicdn.toast.com/grid/latest/tui-grid.css" />
	
	<style>
	/* 전체 테두리 */
.tui-grid {
    border: 2px solid #ccc; /* 표 외곽 테두리 */
    border-collapse: collapse;
}
/* 세로 줄 */
.tui-grid-cell {
    border-right: 2px solid #ccc !important; 
}
/* 가로줄 */
.tui-grid-cell {
    border-bottom: 2px solid #ccc !important; /* 셀 아래쪽에 가로줄 */
}
/* 헤더 테두리 */
.tui-grid-header-area {
    border-bottom: 2px solid #ccc !important; /* 헤더 아래쪽 두꺼운 선 */
}
.modal-body {
    position: relative;
    padding: 0; /* Grid와의 간격 문제 해결 */
    overflow: hidden; /* 내부 스크롤 제거 */
}
	
 	#grid { 
    width: 100% !important; 
    height: 100% !important; 
    overflow: hidden;  /* 불필요한 스크롤바 제거 */
} 

	</style>
</head>
<body>
			
			  <!--Modal full size -->
                                        <div class="me-1 mb-1 d-inline-block">
                                            <!-- Button trigger for full size modal -->
                                            <button type="button" class="btn btn-outline-warning" data-bs-toggle="modal"
                                                data-bs-target="#full-scrn">
                                                급여대장조회
                                            </button>

                                            <!-- full size modal-->
                                            <div class="modal fade text-left w-100" id="full-scrn" tabindex="-1"
                                                role="dialog" aria-labelledby="myModalLabel20" aria-hidden="true">
                                                <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-full"
                                                    role="document">
                                                    <div class="modal-content">
                                                        <div class="modal-header">
                                                            <h4 class="modal-title" id="myModalLabel20">급여대장조회</h4>
                                                            <button type="button" class="btn-close" data-bs-dismiss="modal"
                                                                aria-label="Close">
                                                                <i data-feather="x"></i>
                                                            </button>
                                                        </div>
                                                        <div class="modal-body">
                                                        <div id="grid" style="width: 100%; height:100%;">
                                                        </div>
                                                        <div class="modal-footer">
                                                            <button type="button" class="btn btn-light-secondary"
                                                                data-bs-dismiss="modal">
                                                                <i class="bx bx-x d-block d-sm-none"></i>
                                                                <span class="d-none d-sm-block">수정</span>
                                                            </button>
                                                            <button type="button" class="btn btn-primary ml-1"
                                                                data-bs-dismiss="modal">
                                                                <i class="bx bx-check d-block d-sm-none"></i>
                                                                <span class="d-none d-sm-block">닫기</span>
                                                            </button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
		
	<script src="assets/vendors/perfect-scrollbar/perfect-scrollbar.min.js"></script>
	<script src="assets/js/bootstrap.bundle.min.js"></script>
	<script src="assets/js/main.js"></script>
	<!-- TOAST UI CDN -->
	<script src="https://uicdn.toast.com/grid/latest/tui-grid.js"></script>
	<script>
	
	
	const gridData = [
		{emp_num: "001", 
		 emp_name: "변종석", 
		 dept_name: "인사팀", 
		 pstn_name: "팀장", 
		 allow_cd_1: "3,800,000", 
		 allow_cd_2: "200,000", 
		 allow_cd_3: "100,000", 
		 allow_amt: "4,100,000", 
		 deduc_cd_1: "200,000", 
		 deduc_cd_2: "50,000", 
		 deduc_cd_3: "150,000", 
		 deduc_cd_4: "150,000", 
		 deduc_cd_5: "50,000", 
		 deduc_cd_6: "50,000", 
		 deduc_amt: "650,000", 
		 all: "3,450,000" },
		
			{emp_num: "002", 
			 emp_name: "이재희", 
			 dept_name: "인사팀", 
			 pstn_name: "대리", 
			 allow_cd_1: "3,800,000", 
			 allow_cd_2: "200,000", 
			 allow_cd_3: "100,000", 
			 allow_amt: "4,100,000", 
			 deduc_cd_1: "200,000", 
			 deduc_cd_2: "50,000", 
			 deduc_cd_3: "150,000", 
			 deduc_cd_4: "150,000", 
			 deduc_cd_5: "50,000", 
			 deduc_cd_6: "50,000", 
			 deduc_amt: "650,000", 
			 all: "3,450,000" },
			 
				{emp_num: "003", 
				 emp_name: "김구라", 
				 dept_name: "마케팅팀", 
				 pstn_name: "팀장", 
				 allow_cd_1: "3,800,000", 
				 allow_cd_2: "200,000", 
				 allow_cd_3: "100,000", 
				 allow_amt: "4,100,000", 
				 deduc_cd_1: "200,000", 
				 deduc_cd_2: "50,000", 
				 deduc_cd_3: "150,000", 
				 deduc_cd_4: "150,000", 
				 deduc_cd_5: "50,000", 
				 deduc_cd_6: "50,000", 
				 deduc_amt: "650,000", 
				 all: "3,450,000" },
				 
					{emp_num: "004", 
					 emp_name: "김개발", 
					 dept_name: "개발팀", 
					 pstn_name: "부장", 
					 allow_cd_1: "3,800,000", 
					 allow_cd_2: "200,000", 
					 allow_cd_3: "100,000", 
					 allow_amt: "4,100,000", 
					 deduc_cd_1: "200,000", 
					 deduc_cd_2: "50,000", 
					 deduc_cd_3: "150,000", 
					 deduc_cd_4: "150,000", 
					 deduc_cd_5: "50,000", 
					 deduc_cd_6: "50,000", 
					 deduc_amt: "650,000", 
					 all: "3,450,000" },
					 
						{emp_num: "005", 
						 emp_name: "고인물", 
						 dept_name: "영업팀", 
						 pstn_name: "부장", 
						 allow_cd_1: "3,800,000", 
						 allow_cd_2: "200,000", 
						 allow_cd_3: "100,000", 
						 allow_amt: "4,100,000", 
						 deduc_cd_1: "200,000", 
						 deduc_cd_2: "50,000", 
						 deduc_cd_3: "150,000", 
						 deduc_cd_4: "150,000", 
						 deduc_cd_5: "50,000", 
						 deduc_cd_6: "50,000", 
						 deduc_amt: "650,000", 
						 all: "3,450,000" },
						 
							{emp_num: "006", 
							 emp_name: "순이랑", 
							 dept_name: "마케팅팀", 
							 pstn_name: "대리", 
							 allow_cd_1: "3,800,000", 
							 allow_cd_2: "200,000", 
							 allow_cd_3: "100,000", 
							 allow_amt: "4,100,000", 
							 deduc_cd_1: "200,000", 
							 deduc_cd_2: "50,000", 
							 deduc_cd_3: "150,000", 
							 deduc_cd_4: "150,000", 
							 deduc_cd_5: "50,000", 
							 deduc_cd_6: "50,000", 
							 deduc_amt: "650,000", 
							 all: "3,450,000" }
		];

	// 	2. Complex columns 
	
	let grid = null; //전역 변수 선언
	
	document.addEventListener('DOMContentLoaded', function () {
	    const modalElement = document.getElementById('full-scrn');
		
	    modalElement.addEventListener('shown.bs.modal', function () {
	       
	    	if (!grid) {// grid가 null일 때만 새로 생성 -> 안하면 modal 안에서 계속 증가
	    	grid = new tui.Grid({
	            el: document.getElementById('grid'),
	            scrollX: false,
	            scrollY: false,
	            data: gridData,
	            header: {
	                height: 160,
	                complexColumns: [
	                    {
	                        header: '사원정보',
	                        name: 'mergeColumn1',
	                        childNames: ['emp_num', 'emp_name','dept_name','pstn_name']
	                    },
	                    {
	                        header: '수당',
	                        name: 'mergeColumn2',
	                        childNames: ['allow_cd_1', 'allow_cd_2', 'allow_cd_3']
	                    },
	                    {
	                        header: '공제',
	                        name: 'mergeColumn3',
	                        childNames: ['deduc_cd_1', 'deduc_cd_2', 'deduc_cd_3', 'deduc_cd_4', 'deduc_cd_5', 'deduc_cd_6']
	                    }
	                ]
	            },
	            columns: [
	                { header: '사원번호', name: 'emp_num' },
	                { header: '성명', name: 'emp_name' },
	                { header: '부서명', name: 'dept_name' },
	                { header: '직급명', name: 'pstn_name' },
	                { header: '기본급', name: 'allow_cd_1' },
	                { header: '연차수당', name: 'allow_cd_2' },
	                { header: '성과급', name: 'allow_cd_3' },
	                { header: '총수당액', name: 'allow_amt' },
	                { header: '소득세', name: 'deduc_cd_1' },
	                { header: '주민세', name: 'deduc_cd_2' },
	                { header: '국민연금', name: 'deduc_cd_3' },
	                { header: '건강보험', name: 'deduc_cd_4' },
	                { header: '고용보험', name: 'deduc_cd_5' },
	                { header: '산재보험', name: 'deduc_cd_6' },
	                { header: '공제총액', name: 'deduc_amt' },
	                { header: '실지급액', name: 'all' }
	            ]
	        });
	    	}});
	});


	
		
	</script>
	
</body>

</html>
